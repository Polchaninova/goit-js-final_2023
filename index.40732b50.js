var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in n){var i=n[e];delete n[e];var t={id:e,exports:{}};return r[e]=t,i.call(t.exports,t,t.exports),t.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,r){n[e]=r},e.parcelRequired7c6=i);var t=i("jXXA5"),o=i("2Tlgh"),s=i("hQJwd"),a=i("krGWQ"),c=i("cky31");function d(){a.refs.loader.classList.add("active"),a.refs.containerCardMovies.classList.add("hide")}function l(){a.refs.loader.classList.remove("active"),a.refs.containerCardMovies.classList.remove("hide")}function f(){a.refs.notification.classList.remove("is-visible")}(a=i("krGWQ")).refs.containerCardMovies.addEventListener("click",(function(e){if(e.preventDefault(),e.target.classList.contains("js-info")){const{id:r}=e.target.closest("[data-id]").dataset;let n=(0,t.findTrendInfoForMovie)(Number(r));n||(n=(0,t.findInfoForMovie)(Number(r)),console.log(n)),(0,o.createModal)(n)}}));let v="";a.refs.formBoxes.addEventListener("submit",(async function(e){e.preventDefault(),v=e.currentTarget.elements.query.value,(0,s.resetPage)(),f(),void(a.refs.containerCardMovies.innerHTML=""),""===v&&a.refs.notification.classList.add("is-visible");(0,s.resetPage)(),d(),(0,t.searchMovies)(v).then((async e=>{a.refs.containerCardMovies.innerHTML=await(0,c.createMarkupMovies)(e)})).finally(l)})),window.onload=async function(){d();const e=await(0,t.loadTrending)();l(),a.refs.containerCardMovies.innerHTML=await(0,c.createMarkupMovies)(e)};new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){if(console.log("Intersecting"),!v)return;(0,s.fetchMovies)(v).then((async({movies:e})=>{a.refs.containerCardMovies.insertAdjacentHTML("beforeend",(0,c.createMarkupMovies)(e))}))}}))}),{rootMargin:"200px",threshold:.5}).observe(document.querySelector(".scroll-guard"));
//# sourceMappingURL=index.40732b50.js.map
